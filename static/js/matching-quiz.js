!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React"),require("ReactDOM")):"function"==typeof define&&define.amd?define(["React","ReactDOM"],t):"object"==typeof exports?exports.MatchingQuiz=t(require("React"),require("ReactDOM")):e.MatchingQuiz=t(e.React,e.ReactDOM)}(self,(e,t)=>(()=>{"use strict";var n={338:(e,t,n)=>{var a=n(845);t.H=a.createRoot,a.hydrateRoot},845:e=>{e.exports=t},883:t=>{t.exports=e}},a={};function r(e){var t=a[e];if(void 0!==t)return t.exports;var l=a[e]={exports:{}};return n[e](l,l.exports,r),l.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l={};r.r(l),r.d(l,{SimpleMatchingQuiz:()=>c});var o=r(883),s=r.n(o),i=r(338);const c=({questionId:e,terms:t,definitions:n,correctMatches:a,onAssignmentChange:r})=>{const[l,i]=(0,o.useState)({}),[c,m]=(0,o.useState)(null);(0,o.useEffect)(()=>{console.log("Assignments changed:",l),r?(console.log("Calling onAssignmentChange with:",l),r(l)):console.log("No onAssignmentChange callback provided")},[l,r]);const d=e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},u=e=>Object.values(l).includes(e);return s().createElement("div",null,s().createElement("div",{className:"matching-instructions mb-4 p-3 bg-light border-start border-4 border-primary"},s().createElement("h6",{className:"text-primary mb-2"},"🎯 How to Match"),s().createElement("p",{className:"mb-0 small"},s().createElement("strong",null,"Drag & Drop:")," Drag definitions from the bank onto terms.",s().createElement("strong",null,"Remove:")," Click the ✕ button on placed definitions.")),s().createElement("div",{className:"row"},s().createElement("div",{className:"col-lg-7"},s().createElement("h6",{className:"text-primary mb-3"},"📝 Terms"),s().createElement("div",{className:"terms-list"},t.map((t,a)=>s().createElement("div",{key:a,className:"term-slot card mb-3 p-3"},s().createElement("div",{className:"d-flex align-items-start"},s().createElement("div",{className:"term-number badge bg-primary me-3 flex-shrink-0"},a+1),s().createElement("div",{className:"flex-grow-1"},s().createElement("strong",{className:"term-text d-block mb-2"},t),s().createElement("div",{className:"drop-zone "+(void 0!==l[a]?"has-definition":"empty"),onDragOver:d,onDrop:e=>((e,t)=>{e.preventDefault();const n=parseInt(e.dataTransfer.getData("text/plain"));void 0===l[t]&&(i(e=>({...e,[t]:n})),m(null))})(e,a),style:{minHeight:"80px",border:"3px dashed #dee2e6",borderRadius:"8px",padding:"12px",backgroundColor:void 0!==l[a]?"#d4edda":"#f8f9fa",display:"flex",alignItems:"center",justifyContent:"center"}},void 0!==l[a]?s().createElement("div",{className:"assigned-definition w-100"},s().createElement("div",{className:"d-flex justify-content-between align-items-start"},s().createElement("span",{className:"definition-text flex-grow-1"},n[l[a]]),s().createElement("button",{className:"btn btn-sm btn-outline-danger ms-2",onClick:()=>(e=>{i(t=>{const n={...t};return delete n[e],n})})(a),title:"Remove this assignment"},"✕"))):s().createElement("div",{className:"drop-placeholder text-center text-muted"},"Drop definition here")),s().createElement("input",{type:"hidden",name:`match_${e}_${a}`,value:l[a]||""}))))))),s().createElement("div",{className:"col-lg-5"},s().createElement("h6",{className:"text-success mb-3"},"📚 Available Definitions"),s().createElement("div",{className:"definitions-bank p-3 border rounded",style:{minHeight:"400px"}},n.map((e,t)=>s().createElement("div",{key:t,className:"definition-item card mb-2 p-3 "+(u(t)?"text-muted opacity-50":"border-success"),draggable:!u(t),onDragStart:e=>((e,t)=>{m(t),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",t.toString())})(e,t),style:{cursor:u(t)?"not-allowed":"grab",userSelect:"none"}},s().createElement("div",{className:"d-flex align-items-center"},s().createElement("div",{className:"drag-handle me-2 text-muted"},"⋮⋮"),s().createElement("div",{className:"definition-text flex-grow-1"},e)))),n.every((e,t)=>u(t))&&s().createElement("div",{className:"text-center text-muted p-4"},s().createElement("em",null,"All definitions have been assigned"))))),t.every((e,t)=>void 0!==l[t])&&s().createElement("div",{className:"alert alert-success mt-3"},s().createElement("strong",null,"✅ All terms matched!")," You can proceed to the next question."))};return window.mountMatchingQuiz=(e,t)=>{const n=document.getElementById(e);if(n){const e=(0,i.H)(n);return e.render(s().createElement(c,t)),e}console.error("Container element not found:",e)},window.checkMatchingComplete=e=>{const t=document.getElementById(`matching-quiz-${e}`);if(t&&t._reactRoot){const e=t.querySelectorAll('input[type="hidden"]');return Array.from(e).every(e=>""!==e.value)}return!1},l})());